var colors = ['rgba(250,90,0,0.6)', 'rgba(0,240,130,0.6)', 'rgba(0,50,250,0.6)', 'rgba(120,30,230,0.6)'];
var modes = ['Brightness RMSE', 'Gamma RMSE', 'Hue RMSE', 'Saturation RMSE'];
var data = [
  // {"V":[67.304326,85.807891,19.973365,105.910347]},
  {"V":[1.038653,0.849059,14.448322,1.002127]},
  {"V":[0.970660,0.708463,14.448322,0.986744]},
  {"V":[0.794265,0.513699,14.448322,0.971203]},
  {"V":[0.745669,0.529256,14.448322,0.953275]},
  {"V":[0.579362,0.439597,14.448322,0.454139]},
  {"V":[0.559925,0.431531,14.448322,0.378465]},
  {"V":[0.545118,0.419525,14.448322,0.265018]},
  {"V":[0.564013,0.428938,14.448322,0.360714]},
  {"V":[0.547611,0.398652,14.448322,0.229391]},
  {"V":[0.470585,0.402715,14.448322,0.336056]},
  {"V":[0.630838,0.445306,14.448322,0.288943]},
  {"V":[0.449063,0.426135,14.448322,0.317904]},
  {"V":[0.565047,0.441206,14.448322,0.191367]},
  {"V":[0.602917,0.367702,14.448322,0.323481]},
  {"V":[0.521982,0.433390,14.448322,0.289186]},
  {"V":[0.530190,0.409436,14.448322,0.273975]},
  {"V":[0.499990,0.442323,14.448322,0.220782]},
  {"V":[0.573263,0.442840,14.448322,0.305662]},
  {"V":[0.568754,0.603430,14.448322,0.278060]},
  {"V":[0.507471,0.434501,14.448322,0.219278]},
  {"V":[0.523859,0.342865,14.448322,0.294130]},
  {"V":[0.458365,0.426578,14.448322,0.160585]},
  {"V":[0.606578,0.326932,14.448322,0.336023]},
  {"V":[0.508148,0.399190,14.448322,0.216173]},
  {"V":[0.474047,0.365542,14.448322,0.269441]},
  {"V":[0.606722,0.418843,14.448322,0.321269]},
  {"V":[0.521243,0.417896,14.448322,0.229494]},
  {"V":[0.479857,0.416092,14.448322,0.238936]},
  {"V":[0.560488,0.371228,14.448322,0.328324]},
  {"V":[0.550435,0.347239,14.448322,0.193154]},
  {"V":[0.513054,0.456063,14.448322,0.289698]},
  {"V":[0.516860,0.355619,14.448322,0.211691]},
  {"V":[0.487611,0.387282,14.448322,0.292826]},
  {"V":[0.550703,0.388174,14.448322,0.269540]},
  {"V":[0.544492,0.362934,14.448322,0.211471]},
  {"V":[0.506524,0.406254,14.448322,0.256346]},
  {"V":[0.554538,0.316678,14.448322,0.296166]},
  {"V":[0.454523,0.436189,14.448322,0.228688]},
  {"V":[0.530354,0.341434,14.448322,0.319989]},
  {"V":[0.592305,0.391428,14.448322,0.264343]},
  {"V":[0.522446,0.415590,14.448322,0.197025]},
  {"V":[0.473480,0.310417,14.448322,0.280040]},
  {"V":[0.602579,0.420778,14.448322,0.260008]},
  {"V":[0.531708,0.335093,14.448322,0.230165]},
  {"V":[0.547778,0.392679,14.448322,0.304321]},
  {"V":[0.530191,0.386411,14.448322,0.298342]},
  {"V":[0.455753,0.338195,14.448322,0.283336]},
  {"V":[0.521229,0.365486,14.448322,0.272513]},
  {"V":[0.566335,0.402156,14.448322,0.265528]},
  {"V":[0.513654,0.340004,14.448322,0.250848]}]

var makeDataSets = function(vs){
  var series = [0,1,2,3].map(function(n){
    return {
      label: modes[n],
      filled: false,
      borderColor: colors[n],
      data: []
    }
  })

  vs.forEach((r) => r.V.forEach((v,i) => {
    series[i].data.push(v)
  }))

  return series
}


function renderChart(){
  console.log("Rendering Chart...")
  var ctx1  = document.getElementById('rmse1').getContext('2d');
  var ctx2  = document.getElementById('rmse2').getContext('2d');
  var dataset = makeDataSets(data);
  var chart1 = new Chart(ctx1, {
    type: 'line',
    data: {
      labels: data.map(function(_,i){ return 'Epoch ' + i }),
      datasets: dataset.splice(2,1)
    },
    lineTension: 1.0,
    options: {}
  })  
  var chart2 = new Chart(ctx2, {
    type: 'line',
    data: {
      labels: data.map(function(_,i){ return 'Epoch ' + i }),
      datasets: dataset
    },
    lineTension: 1.0,
    options: {}
  })
}

